# MobileNet v1
### 一.MobileNet的定义：
MobileNet是基于深度可分离卷积构建的网络，并且运用两个超参数（分别是宽度倍增器和分辨率倍增器）进行网络模型的缩小和优化。
### 二.深度可分离卷积
1. 作用：对每个输入的通道进行过滤再合并成为新的输出，整个MobileNet都是基于深度可分离卷积构建的。
2. 结构：
* 深度可分离卷积是把一个标准卷积分为深度卷积和点卷积
* 深度卷积的作用是对每个输入通道进行过滤；点卷积是一个1x1的卷积，它会合并深度卷积的输出
3. 高效性：
* 标准卷积层的输入映射F：Df * Df * M(Df是输入的宽和高；M是输入的维度)
  标准卷积层的输出映射G：Dg * Dg * N(Dg是输出的宽和高；N是输出的维度）
  标准卷积层的卷积核K：Dk * Dk * M * N(Dk是卷积卷积核的空间维度)
  标准卷积层的运算成本：Dk * Dk * M * N * Df *Df
* 深度可分离卷积层计算成本(深度卷积运算成本+点卷积运算成本)：
  Dk * Dk * M * Df * Df+M * N * Df * Df
* 相比较于标准卷积层，运用深度可分离卷积层可节省的运算成本：
  （Dk * Dk * M * N * Df *Df）/（Dk * Dk * M * Df * Df+M * N * Df * Df）
  =1/N+1/Dk^2
### 三.MobileNet的网络结构
* 有28层网络，其中深度卷积层和点卷积层是分开算的
* 第一层是全卷积层，最后一层是全连接层（唯一的线性层）；28=1+13*2+1（1-全卷积层，13 * 2-13组深度卷积层加点卷积层，1-全连接层）
* 在除了最后一层的所有层都进行过批量处理（batchnorm)和ReLU非线性化
* 在最后一层和倒数第二层之间进行了平均池化，最后一层被喂入softmax层进行分类
### 四.MobileNetV1网络的训练
* 在tensorflow中训练（tensorflow是一个基于数据流编程的符号数学系统）
* 是小型模型较少出现过拟合问题，故较少使用正则化和数据增强技术
* 不用侧头和标签平滑
* 因为参数很少，所以在深度滤波器上放置较少的权值衰减是必要的
### 五.两个缩小优化MobileNet的超参数
1. 宽度倍增器：
* 定义：称参数a为宽度倍增器，可以使网络变薄
* 输入层：由M变为aM ; 输出层：由N变为aN
* 对一个已知层加入a的计算成本：Dk * Dk * aM * Df * Df + aM * aN * Df * Df
* a取值为0-1，通常取值为1，0.75，0.5，0.25
* 宽度倍增器可以减少计算成本和参数的数量，并且可以用于任何模型
2. 分辨率倍增器：
* 也可以减少计算成本，我们通常通过设定分辨率来隐式设置分辨率倍增器
3. 总共减少的计算成本：
DK * DK * aM * pDf * pDf + aM * aN * pDf * pDf
### 六.运用MobileNet做过的一些实验
1. 比较：MobileNet和全卷积比较只是在准确度略有下降，却节省了很多计算成本和参数使用；使网络变薄比使网络变浅（层数减少）更高效
2. 斯坦福狗的细粒分辨实验，大规模地理图片识别实验，人脸属性分类实验，对象检测实验以及面向嵌入都体现了MobileNet模型小，效率高，参数少的特点




 
  

